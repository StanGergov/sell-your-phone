(this["webpackJsonpsell-your-phone"]=this["webpackJsonpsell-your-phone"]||[]).push([[0],{62:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),r=a(24),n=a.n(r),o=a(6),l=(a(72),a(5));a(73);var i=(e,t)=>{const[a,s]=Object(c.useState)((()=>{try{let a=localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.log(a),t}}));return[a,t=>{try{localStorage.setItem(e,JSON.stringify(t)),s(t)}catch(a){console.log(a)}}]},d=a(1);const b={_id:"",name:"",phoneNumber:"",email:"",accessToken:""},j=Object(c.createContext)(b),h=e=>{let{children:t}=e;const[a,c]=i("user",b);return Object(d.jsx)(j.Provider,{value:{user:a,login:e=>{const{uid:t,name:a,phoneNumber:s,email:r,accessToken:n}=e.user;c({_id:t,name:a,phoneNumber:s,email:r,accessToken:n}),console.log(e)},logout:()=>{c(b)},isAuthenticated:a.email},children:t})},m=()=>Object(c.useContext)(j),u=Object(c.createContext)(),p="danger",O="warning",g="info",x="success",f={show:!1,message:"",type:p},w=e=>{let{children:t}=e;const[a,s]=Object(c.useState)(f),r=Object(c.useCallback)((function(e){s({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:p}),setTimeout((()=>{s(f)}),5e3)}),[]),n=Object(c.useCallback)((()=>s(f)),[]);return Object(d.jsx)(u.Provider,{value:{notification:a,showNotification:r,hideNotification:n},children:t})},v=()=>Object(c.useContext)(u);var y=a(106);a(75);var N=()=>{const{notification:e,hideNotification:t}=v();return e.show?Object(d.jsx)(y.a,{className:"notification d-inline-block m-1",bg:e.type,onClose:t,children:Object(d.jsxs)(y.a.Header,{children:[Object(d.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(d.jsx)("strong",{className:"me-auto",children:e.message})]})}):null},_=a(104),S=a(103),C=a(101),k=a(99);a(78);var I=()=>{let{user:e}=m(),[t,a]=Object(c.useState)("");const s=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_.a.Link,{as:o.b,to:"/my-phones",children:"My phones"}),Object(d.jsx)(_.a.Link,{as:o.b,to:"/create",children:"Create ad"}),Object(d.jsx)(_.a.Link,{as:o.b,to:"/logout",children:"Logout"})]}),r=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_.a.Link,{as:o.b,to:"/login",children:"Login"}),Object(d.jsx)(_.a.Link,{as:o.b,to:"register",children:"Register"})]}),n=Object(d.jsxs)(S.a.Collapse,{id:"basic-navbar-nav",children:[Object(d.jsxs)(_.a,{className:"header-buttons",children:[Object(d.jsx)(_.a.Link,{as:o.b,to:"/all-phones",children:"All phones"}),e.email?s:r]}),e.email?Object(d.jsxs)("p",{className:"hello-message",children:["Hello, ",void 0===e.name?e.email:e.name]}):null]}),l=Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(C.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Menu"}),Object(d.jsx)(C.a.Menu,{children:Object(d.jsxs)("div",{className:"header-buttons",children:[Object(d.jsx)(C.a.Item,{as:o.b,to:"/all-phones",children:"All phones"}),e.email?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(C.a.Item,{as:o.b,to:"/my-phones",children:"My phones"}),Object(d.jsx)(C.a.Item,{as:o.b,to:"/create",children:"Create ad"}),Object(d.jsx)(C.a.Item,{as:o.b,to:"/logout",children:"Logout"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(C.a.Item,{as:o.b,to:"/login",children:"Login"}),Object(d.jsx)(C.a.Item,{as:o.b,to:"register",children:"Register"})]})]})})]})});let i=window.innerWidth,b=i>602?n:l;return Object(c.useEffect)((()=>window.addEventListener("resize",(()=>(i=window.innerWidth,a(i>602?n:l))))),[]),Object(d.jsx)(S.a,{bg:"light",expand:"lg",children:Object(d.jsxs)(k.a,{children:[Object(d.jsx)(S.a.Brand,{as:o.b,to:"/all-phones",className:"logo",children:"Sell your phone"}),t||b]})})};const T="https://sell-your-phone-6fc13-default-rtdb.europe-west1.firebasedatabase.app",E=()=>fetch("".concat(T,"/phone-collection.json")),L=(e,t)=>fetch("".concat(T,"/phone-collection/").concat(e,".json"),{signal:t});a(81);var B=e=>{let{phone:t}=e;return Object(d.jsx)("div",{className:"phone-card",children:Object(d.jsxs)(o.b,{to:"/details/".concat(t._id),className:"card-content",children:[Object(d.jsx)("img",{src:t.imgUrl,alt:t.brand}),Object(d.jsxs)("p",{children:[t.brand," ",t.model," ",Object(d.jsx)("br",{}),"Price: ",t.price," lv"]})]})})};a(82);var P=e=>{let{phones:t}=e;return Object(d.jsx)("div",{className:"phone-list",children:t.map((e=>Object(d.jsx)(B,{phone:e},e._id)))})};a(83);var A=e=>Object(d.jsxs)("div",{className:"no-phones",children:[Object(d.jsx)("div",{className:"page-title",children:"No phones on list"}),Object(d.jsx)("div",{className:"no-phones-buttons",children:e.children})]});a(84);var G=()=>Object(d.jsx)("span",{className:"page-title loading",children:"Loading..."});var U=()=>{const[e,t]=Object(c.useState)([]),[a,s]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{s(!0),setTimeout((()=>{s(!1)}),1e3)}),[]),Object(c.useEffect)((()=>{E().then((e=>e.json())).then((e=>{let a=[];Object.entries(e).forEach((e=>a.push({_id:e[0],...e[1]}))),t(a)})).catch((e=>console.log(e)))}),[]),0===e.length?a?Object(d.jsx)(G,{}):Object(d.jsx)(A,{}):Object(d.jsx)(P,{phones:e})},F=a(65);a(85);var D=()=>{const{user:e}=m(),[t,a]=Object(c.useState)([]),[s,r]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{r(!0),setTimeout((()=>{r(!1)}),1e3)}),[]),Object(c.useEffect)((()=>{E().then((e=>e.json())).then((t=>{let c=[];Object.entries(t).forEach((e=>c.push({_id:e[0],...e[1]})));let s=Object.values(c).filter((t=>t.ownerId===e._id));a(s)})).catch((e=>console.log(e)))}),[e._id]),t.length<=0?s?Object(d.jsx)(G,{}):Object(d.jsx)(A,{children:Object(d.jsx)(F.a,{as:o.b,to:"/create",className:"create-btn",variant:"primary",children:"Create an ad"})}):Object(d.jsx)(P,{phones:t})},q=a(102),R=(a(86),a(66)),z=a(40);const M=Object(R.a)({apiKey:"AIzaSyA6_at99U0o93Z78KoBJlzvoO8vTsxnj6U",authDomain:"sell-your-phone-6fc13.firebaseapp.com",databaseURL:"https://sell-your-phone-6fc13-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sell-your-phone-6fc13",storageBucket:"sell-your-phone-6fc13.appspot.com",messagingSenderId:"674521515778",appId:"1:674521515778:web:c4dd5f680cb214168ae41b",measurementId:"G-0E84L4LPMH"}),J=Object(z.b)(M),W="https://sell-your-phone-6fc13-default-rtdb.europe-west1.firebasedatabase.app",Y=(e,t)=>e===t;var X=()=>{const{login:e}=m(),{showNotification:t}=v(),a=Object(l.h)(),[s,r]=Object(c.useState)(""),[n,i]=Object(c.useState)(""),b=e=>{e.preventDefault();let t=e.currentTarget.name,a=e.currentTarget.value;const c="border-color: green",s="border-color: red";if("email"===t){return/^[\w\.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(a)?(e.currentTarget.style=c,r(a)):e.currentTarget.style=s}if("password"===t)return a.length<6?e.currentTarget.style=s:(e.currentTarget.style=c,i(a))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"page-title",children:"Login"}),Object(d.jsxs)(q.a,{className:"login-form",onSubmit:c=>{c.preventDefault();const{email:s,password:r}=Object.fromEntries(new FormData(c.currentTarget));((e,t)=>Object(z.c)(J,e,t).then((e=>e)).catch((e=>console.log(e))))(s,r).then((c=>{if(!c.user)return t("Wrong email or password!",p);e(c),t("Welcome ".concat(s,"."),x),a("/my-phones")})).catch((e=>{console.error(e)}))},children:[Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(q.a.Label,{children:"Email address"}),Object(d.jsx)(q.a.Control,{type:"email",name:"email",onBlur:b,placeholder:"Enter email",required:!0})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(d.jsx)(q.a.Label,{children:"Password"}),Object(d.jsx)(q.a.Control,{type:"password",name:"password",onBlur:b,placeholder:"Password",required:!0}),Object(d.jsxs)(q.a.Text,{children:["You don't have any account? ",Object(d.jsx)(o.b,{to:"/register",children:"Register from here"})]})]}),Object(d.jsx)(F.a,{variant:"primary",type:"submit",children:"Login"})]})]})};a(88);var H=()=>{const{login:e}=m(),{showNotification:t}=v(),a=Object(l.h)(),[s,r]=Object(c.useState)(""),[n,i]=Object(c.useState)(""),[b,j]=Object(c.useState)(""),[h,u]=Object(c.useState)(""),O=e=>{e.preventDefault();let t=e.currentTarget.name,a=e.currentTarget.value;const c="border-color: green",s="border-color: red";if("email"===t){return/^[\w\.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(a)?(e.currentTarget.style=c,r(a)):e.currentTarget.style=s}return"name"===t?a.length<3?e.currentTarget.style=s:(e.currentTarget.style=c,i(a)):"phoneNumber"===t?10!==a.length?e.currentTarget.style=s:(e.currentTarget.style=c,j(a)):"password"===t?a.length<6?e.currentTarget.style=s:(e.currentTarget.style=c,u(a)):"rePassword"===t?a!==h||a.length<6?e.currentTarget.style=s:e.currentTarget.style=c:void 0};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"page-title",children:"Register"}),Object(d.jsxs)(q.a,{className:"register-form",onSubmit:c=>{c.preventDefault();const{email:s,rePassword:r}=Object.fromEntries(new FormData(c.currentTarget));if(h!==r)return t("Passwords missmatch",p),console.error("Passwords missmatch");((e,t)=>Object(z.a)(J,e,t).then((e=>e)).catch((e=>console.log(e.message))))(s,h).then((c=>{((e,t)=>{fetch("".concat(W,"/users.json"),{method:"POST",headers:{"Content-type":"application/json","X-Authorization":t},body:JSON.stringify({...e})})})({email:s,name:n,phoneNumber:b,userId:c.user.uid},c.accessToken),e(c),t("You have successfully registered",x),a("/all-phones")})).catch((e=>console.error(e)))},children:[Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(q.a.Label,{children:"Email address"}),Object(d.jsx)(q.a.Control,{type:"email",name:"email",onBlur:O,placeholder:"Enter email",required:!0})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(d.jsx)(q.a.Label,{children:"Name"}),Object(d.jsx)(q.a.Control,{type:"text",name:"name",onBlur:O,placeholder:"Enter your name",required:!0})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicPhoneNumber",children:[Object(d.jsx)(q.a.Label,{children:"Phone number"}),Object(d.jsx)(q.a.Control,{type:"number",name:"phoneNumber",onBlur:O,placeholder:"Enter phone number",required:!0})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(d.jsx)(q.a.Label,{children:"Password"}),Object(d.jsx)(q.a.Control,{type:"password",name:"password",onBlur:O,placeholder:"Password",required:!0})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicRePassword",children:[Object(d.jsx)(q.a.Label,{children:"Repeat password"}),Object(d.jsx)(q.a.Control,{type:"password",name:"rePassword",onBlur:O,placeholder:"Repeat password",required:!0}),Object(d.jsxs)(q.a.Text,{children:["You already have an account? ",Object(d.jsx)(o.b,{to:"/login",children:"Login from here"})]})]}),Object(d.jsx)(F.a,{variant:"primary",type:"submit",children:"Register"})]})]})};var K=()=>{const e=Object(l.h)(),{logout:t}=m();return Object(c.useEffect)((()=>{Object(z.d)(J).then((e=>e)).catch((e=>e)),t(),e("/all-phones")})),null};a(89);var Z=()=>Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("p",{children:"\xa9 2021"})});a(62),a(90);var $=e=>{let{submit:t,phone:a={brand:"",model:"",color:"",imgUrl:"",grade:"",accessories:"",notes:"",price:""}}=e;const[s,r]=Object(c.useState)((()=>({...a,grade:a.grade?a.grade:"default"})));const n=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;const c={...s};return c[t]=a,r(c)};return Object(d.jsxs)(q.a,{className:"ad-form",method:"POST",onSubmit:function(e){e.preventDefault(),t(s)},children:[Object(d.jsxs)(q.a.Group,{className:"mb-3",children:[Object(d.jsx)(q.a.Label,{children:"Brand"}),Object(d.jsx)(q.a.Control,{type:"text",name:"brand",minLength:"3",placeholder:"Samsung, Apple, Sony, Nokia...",value:s.brand,onChange:n,required:!0})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",children:[Object(d.jsx)(q.a.Label,{children:"Model"}),Object(d.jsx)(q.a.Control,{type:"text",name:"model",minLength:"3",placeholder:"Galaxy Fold 3, iPhone 13, Xperia Z4...",value:s.model,required:!0,onChange:n})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",children:[Object(d.jsx)(q.a.Label,{children:"Color"}),Object(d.jsx)(q.a.Control,{type:"text",name:"color",minLength:"3",placeholder:"Black, White, Green....",value:s.color,required:!0,onChange:n})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",children:[Object(d.jsx)(q.a.Label,{children:"Image"}),Object(d.jsx)(q.a.Control,{type:"text",name:"imgUrl",pattern:"^https?:\\/\\/[\\w?\\W?]+$",placeholder:"Image URL...",value:s.imgUrl,required:!0,onChange:n})]}),Object(d.jsx)(q.a.Label,{children:"Grade of conditions"}),Object(d.jsxs)(q.a.Select,{"aria-label":"Default select example",value:s.grade,onChange:n,name:"grade",required:!0,children:[Object(d.jsx)("option",{disabled:!0,value:"default",children:"Slect a value"}),Object(d.jsx)("option",{value:"1: Lots of scratches but still working",children:"1: Lots of scratches but still working"}),Object(d.jsx)("option",{value:"2: Some scratches",children:"2: Some scratches"}),Object(d.jsx)("option",{value:"3: Normal, with a few scratches",children:"3: Normal, with a few scratches"}),Object(d.jsx)("option",{value:"4: Almost like new",children:"4: Almost like new"}),Object(d.jsx)("option",{value:"5: New",children:"5: New"})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",children:[Object(d.jsx)(q.a.Label,{children:"Accessories"}),Object(d.jsx)(q.a.Control,{type:"text",name:"accessories",placeholder:"Box, Charger, Cabel...",value:s.accessories,onChange:n})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",children:[Object(d.jsx)(q.a.Label,{children:"Notes"}),Object(d.jsx)(q.a.Control,{type:"text",name:"notes",placeholder:"Notes...",value:s.notes,onChange:n})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",children:[Object(d.jsx)(q.a.Label,{children:"Price"}),Object(d.jsx)(q.a.Control,{type:"number",name:"price",min:"0",max:"10000",placeholder:"500lv...",value:s.price,required:!0,onChange:n})]}),Object(d.jsx)(F.a,{variant:"primary",type:"submit",children:"Save"})]})};var Q=()=>{const{user:e}=m(),{showNotification:t}=v(),a=Object(l.h)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"page-title",children:"Create an ad for your phone"}),Object(d.jsx)($,{submit:c=>{((e,t)=>fetch("".concat(T,"/phone-collection.json"),{method:"POST",headers:{"Content-type":"application/json","X-Authorization":t},body:JSON.stringify({...e})}))({...c,ownerId:e._id},e.accessToken).then((e=>e.json())).then((e=>{a("/details/".concat(e.name)),t("You successfully create an ad for your phone",x)})).catch((e=>console.error(e)))}})]})},V=(a(91),a(105));var ee=e=>{let{show:t,onClose:a,onSave:c}=e;return Object(d.jsxs)(V.a,{show:t,onHide:a,children:[Object(d.jsx)(V.a.Header,{closeButton:!0,children:Object(d.jsx)(V.a.Title,{children:"Delete this phone?"})}),Object(d.jsx)(V.a.Body,{children:Object(d.jsx)("p",{children:"Are you sure you want to delete the ad for this phone?"})}),Object(d.jsxs)(V.a.Footer,{children:[Object(d.jsx)(F.a,{variant:"secondary",onClick:a,children:"Close"}),Object(d.jsx)(F.a,{variant:"primary",onClick:c,children:"Delete"})]})]})};var te=()=>{const e=Object(l.h)(),{user:t}=m(),{phoneId:a}=Object(l.i)(),{showNotification:s}=v(),[r,n]=Object(c.useState)({}),[i,b]=Object(c.useState)({}),[j,h]=Object(c.useState)(!1),u=r.ownerId,p=Y(u,t._id);Object(c.useEffect)((()=>{(e=>fetch("".concat(W,"/users.json?userId=").concat(e)))(u).then((e=>e.json())).then((e=>b(Object.values(e)[0]))).catch((e=>console.log(e)))}),[]),Object(c.useEffect)((()=>{L(a).then((e=>e.json())).then((e=>{if(e.message)throw new Error("This phone may not exist anymore.");n(e)})).catch((t=>{console.error(t),s("This phone may not exist anymore.",O),e("/all-phones")}))}),[a,s,e]);const g=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(F.a,{as:o.b,to:"/edit/".concat(a),variant:"primary",className:"edit-btn",children:"Edit"}),Object(d.jsx)(F.a,{onClick:e=>{e.preventDefault(),h(!0)},variant:"danger",className:"delete-btn",children:"Delete"})]}),f=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h4",{children:"You like this phone?"}),Object(d.jsx)("h5",{children:"Owner Contacts:"}),Object(d.jsxs)("h5",{children:["Name: ",i.name]}),Object(d.jsxs)("h5",{children:["Phone: ",i.phoneNumber,", email: ",i.email]})]});return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ee,{show:j,onClose:()=>h(!1),onSave:c=>{c.preventDefault(),((e,t)=>fetch("".concat(T,"/phone-collection/").concat(e,".json"),{method:"DELETE",headers:{"X-Authorization":t}}).then((e=>e.json())))(a,t.accessToken).then((()=>{e("/my-phones"),s("You successfully delete this phone.",x)})).catch((e=>console.error(e))).finally((()=>{h(!1)}))}}),Object(d.jsxs)("div",{className:"page-content",children:[Object(d.jsx)("img",{src:r.imgUrl,className:"image",alt:"img"}),Object(d.jsxs)("div",{className:"phone-details",children:[Object(d.jsxs)("div",{className:"phone-model",children:[r.brand," ",r.model]}),Object(d.jsxs)("h3",{children:["Price: ",r.price," leva"]}),Object(d.jsxs)("h4",{children:["Color: ",Object(d.jsx)("h5",{children:r.color})]}),Object(d.jsxs)("h4",{children:["Grade of conditions: ",Object(d.jsx)("h5",{children:r.grade})]}),Object(d.jsx)("h4",{children:"Accessories:"}),r.accessories?Object(d.jsx)("h5",{children:r.accessories}):Object(d.jsx)("h5",{children:"No accessories for this phone"}),r.notes?Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("h4",{children:"Notes:"}),Object(d.jsx)("h5",{children:r.notes})]}):null,Object(d.jsx)("div",{className:"owner-buttons",children:p?g:f})]})]})]})};var ae=[{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Samsung ",model:"Galaxy Z fold 4",color:"Gray",imgUrl:"https://p1.akcdn.net/full/1013452881.samsung-galaxy-z-fold4-5g-256gb-12gb-ram-dual-f936.jpg",grade:"4: Almost like new",accessories:"Box, charger",notes:"",price:"1500",ownerEmail:"peter@abv.bg",_createdOn:1708703378834,_id:"36becccd-7963-4323-a8a9-1e2e4ea3733a",_updatedOn:1708705230248},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Apple",model:"iPhone 14 pro 256gb",color:"White",imgUrl:"https://www.apple.com/newsroom/images/product/iphone/standard/Apple-iPhone-14-Pro-iPhone-14-Pro-Max-silver-220907_inline.jpg.large.jpg",grade:"5: New",accessories:"Box, charger",notes:"",price:"1700",ownerEmail:"peter@abv.bg",_createdOn:1708703524031,_id:"aaba9a94-13b4-45bf-8fdd-3d670814bad0",_updatedOn:1708703535790},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Nokia",model:"8800",color:"Silver",imgUrl:"https://cdn.shopify.com/s/files/1/0014/9352/products/nokia-8800-sirocco-silver.jpg?v=1213973454",grade:"3: Normal, with a few scratches",accessories:"",notes:"perfectly working",price:"200",ownerEmail:"peter@abv.bg",_createdOn:1708707222784,_id:"4a827be5-3229-41d5-812c-c79b7f49adc5"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Siemens",model:"M55",color:"Grey and Orange ",imgUrl:"https://imei24.com/img/siemens/13_08_13_pic_245.jpg",grade:"1: Lots of scratches but still working",accessories:"",notes:"",price:"20",ownerEmail:"peter@abv.bg",_createdOn:1708707343432,_id:"e483f76d-917e-4c38-bf04-04d877687bf0"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Nokia",model:"N91",color:"Silver",imgUrl:"https://i.ebayimg.com/images/g/1hcAAOSwJRxbR3LG/s-l1200.jpg",grade:"3: Normal, with a few scratches",accessories:"Box, charger",notes:"",price:"300",ownerEmail:"peter@abv.bg",_createdOn:1708707420147,_id:"b33aef42-04c7-446a-a807-3bfab85426b5",_updatedOn:1708707505075},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Nokia",model:"3310",color:"Blue",imgUrl:"https://assets.gds.it/2017/02/NOKIA-3310-800x800.jpg",grade:"2: Some scratches",accessories:"charger",notes:"",price:"40",ownerEmail:"peter@abv.bg",_createdOn:1708707563770,_id:"a6e625b5-a1e0-428d-841d-067cbfb70f70"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Samsung",model:"D820",color:"Black",imgUrl:"https://www.mobile-review.com/phonemodels/samsung/image/d820-1.jpg",grade:"4: Almost like new",accessories:"Box, charger",notes:"",price:"50",ownerEmail:"peter@abv.bg",_createdOn:1708707661967,_id:"55cf3f5c-8f81-4a15-b238-1fd89c7cf869"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Samsung ",model:"Galaxy S21 ultra 256gb",color:"Black",imgUrl:"https://cdn.dxomark.com/wp-content/uploads/medias/post-71028/galaxys21_ultra.jpg",grade:"3: Normal, with a few scratches",accessories:"Box, charger",notes:"",price:"870",ownerEmail:"peter@abv.bg",_createdOn:1708707748923,_id:"89904052-c775-4da4-8d55-8416b9c4c981"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Ericsson",model:"T28",color:"Black",imgUrl:"https://ih1.redbubble.net/image.3564954366.6224/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",grade:"2: Some scratches",accessories:"",notes:"",price:"25",ownerEmail:"peter@abv.bg",_createdOn:1708707820069,_id:"29747117-bbc4-4b6a-9652-54ab2acd5a92"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Sony Ericsson",model:"Xperia Pureness",color:"Black",imgUrl:"https://www.kickmobiles.com/images/thumbs/0031637_sony-ericsson-xperia-pureness-x5_808.jpeg",grade:"4: Almost like new",accessories:"Box, charger, cable, headphones ",notes:"The coolest phone ever",price:"1000",ownerEmail:"peter@abv.bg",_createdOn:1708707920314,_id:"32843e3a-8092-4662-9bb1-f8309b437b92",_updatedOn:1708707974072},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Samsung",model:"Galaxy S24 256gb",color:"Purple",imgUrl:"https://cdn.ozone.bg/media/catalog/product/cache/1/image/400x498/a4e40ebdc3e371adff845072e1c73f37/s/m/44e2af6a253d45d3efd585482fb37830/smartfon-samsung---galaxy-s24-5g--62----8gb-128gb--cobalt-violet-31.jpg",grade:"5: New",accessories:"Box, cable",notes:"",price:"1500",ownerEmail:"peter@abv.bg",_createdOn:1708708063397,_id:"9430ec7a-e196-42e6-ae6b-687b0acd85b8"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"OnePlus",model:"11 pro",color:"Green",imgUrl:"https://cdn.dxomark.com/wp-content/uploads/medias/post-138310/OnePlus-11_featured-image-packshot-review-Recovered.jpg",grade:"4: Almost like new",accessories:"Box, cable, charger",notes:"",price:"2000",ownerEmail:"peter@abv.bg",_createdOn:1708708174803,_id:"746c7733-3e10-497f-a60d-cd34096a64e8"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Samsung",model:"Galaxy Alpha",color:"White",imgUrl:"https://mobilebulgaria.com/img/cms/24/635024_half.jpg",grade:"2: Some scratches",accessories:"Box, cable, charger",notes:"",price:"100",ownerEmail:"peter@abv.bg",_createdOn:1708708251209,_id:"569044d1-fa11-4828-8d0d-50818494015e"},{_ownerId:"35c62d76-8152-4626-8712-eeb96381bea8",brand:"Blackberry",model:"9800",color:"Black",imgUrl:"https://m.media-amazon.com/images/I/81WsLyAh4YL._AC_UF1000,1000_QL80_.jpg",grade:"3: Normal, with a few scratches",accessories:"Box, cable, charger",notes:"",price:"50",ownerEmail:"peter@abv.bg",_createdOn:1708708346667,_id:"e49dd0b1-803c-4f11-ad6c-f4ec0db5fff3"}];var ce=e=>{const[t,a]=Object(c.useState)({}),s=Object(c.useMemo)((()=>new AbortController),[]);return Object(c.useEffect)((()=>(L(e,s.signal).then((e=>e.json())).then((t=>{if(t.message){let t=ae.filter((t=>t._id===e));if(!t)throw new Error("This phone may not exist anymore.");a(t[0])}else a(t)})).catch((e=>console.log(e))),()=>{s.abort()})),[e,s]),[t,a]},se=a(100);a(92);var re=()=>Object(d.jsx)("div",{className:"spinner-overlay",children:Object(d.jsx)(se.a,{animation:"border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var ne=()=>{const{phoneId:e}=Object(l.i)(),[t,a]=ce(e),{user:c}=m(),s=Object(l.h)(),{showNotification:r}=v(),n=Y(t.ownerId,c._id);return 0===Object.keys(t).length?Object(d.jsx)(re,{}):(n||(r("You are not the owner of this ad.",O),s("/all-phones")),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"page-title",children:"Edit the ad for your phone"}),Object(d.jsx)($,{submit:t=>{((e,t,a)=>fetch("".concat(T,"/phone-collection/").concat(e,".json"),{method:"PUT",headers:{"Content-type":"application/json","X-Authorization":a},body:JSON.stringify({...t})}))(e,t,c.accessToken).then((e=>e.json())).then((c=>{if(c.message){if(!ae.filter((t=>t._id===e)))throw new Error("This phone may not exist anymore.");{ae[e]=t;let c=ae[e];a(c)}}else a(c);s("/details/".concat(e))})).catch((t=>{let c=ae.filter((t=>t._id===e));c?a(c[0]):console.log(t)}))},phone:t})]}))};var oe=()=>{const{isAuthenticated:e}=m(),{showNotification:t}=v();return e?Object(d.jsx)(l.b,{}):Object(d.jsxs)(d.Fragment,{children:[t("You should login first",g),Object(d.jsx)(l.a,{to:"/login"})]})};var le=()=>Object(d.jsx)("h1",{className:"page-title",children:"404 Page not found"});var ie=function(){return Object(d.jsx)(h,{children:Object(d.jsx)(w,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(I,{}),Object(d.jsxs)("main",{className:"site-content",children:[Object(d.jsx)(N,{}),Object(d.jsxs)(l.e,{children:[Object(d.jsx)(l.c,{path:"/all-phones",element:Object(d.jsx)(U,{})}),Object(d.jsx)(l.c,{path:"/",element:Object(d.jsx)(U,{})}),Object(d.jsx)(l.c,{path:"/details/:phoneId",element:Object(d.jsx)(te,{})}),Object(d.jsx)(l.c,{path:"/login",element:Object(d.jsx)(X,{})}),Object(d.jsx)(l.c,{path:"/register",element:Object(d.jsx)(H,{})}),Object(d.jsx)(l.c,{path:"/logout",element:Object(d.jsx)(K,{})}),Object(d.jsx)(l.c,{path:"*",element:Object(d.jsx)(le,{})}),Object(d.jsxs)(l.c,{element:Object(d.jsx)(oe,{}),children:[Object(d.jsx)(l.c,{path:"/create",element:Object(d.jsx)(Q,{})}),Object(d.jsx)(l.c,{path:"/my-phones",element:Object(d.jsx)(D,{})}),Object(d.jsx)(l.c,{path:"/edit/:phoneId",element:Object(d.jsx)(ne,{})})]})]})]}),Object(d.jsx)(Z,{})]})})})};var de=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,107)).then((t=>{let{getCLS:a,getFID:c,getFCP:s,getLCP:r,getTTFB:n}=t;a(e),c(e),s(e),r(e),n(e)}))};n.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(ie,{})})}),document.getElementById("root")),de()}},[[93,1,2]]]);
//# sourceMappingURL=main.b620374f.chunk.js.map