{"version":3,"sources":["hooks/useLocaleStorage.js","contexts/authContext.js","contexts/notificationContext.js","components/Common/Notification/Notification.js","components/Header/Header.js","services/phoneService.js","components/Common/PhoneCard/PhoneCard.js","components/Common/PhoneList/PhoneList.js","components/Common/NoPhonesMessage/NoPhonesMessage.js","components/Common/Loading/Loading.js","components/AllPhones/AllPhones.js","components/MyPhones/Myphones.js","firebase.js","services/authService.js","components/Login/Login.js","components/Register/Register.js","components/Logout/Logout.js","components/Footer/Footer.js","components/Common/PhoneForm/PhoneForm.js","components/Create/Create.js","components/Common/ConfirmDialog/ConfirmDialog.js","components/Details/Details.js","components/Common/demoPhones.js","hooks/usePhoneState.js","components/Common/SpinnerOverlay/SpinnerOverlay.js","components/Edit/Edit.js","components/Common/GuardRoute/GuardRoute.js","components/Common/PageNotFound/PageNotFound.js","App.js","reportWebVitals.js","index.js"],"names":["useLocalStorage","key","initialValue","state","setState","useState","item","localStorage","getItem","JSON","parse","err","console","log","value","setItem","stringify","initialAuthState","_id","name","phoneNumber","email","accessToken","AuthContext","createContext","AuthProvider","_ref","children","user","setUser","_jsx","Provider","login","authData","uid","logout","isAuthenticated","useAuthContext","useContext","NotificationContext","types","initialNotificationState","show","message","type","NotificationProvider","notification","setNotification","showNotification","useCallback","arguments","length","undefined","setTimeout","hideNotification","useNotificationContext","Notification","Toast","className","bg","onClose","_jsxs","Header","src","alt","navbar","setNavbar","userNav","_Fragment","Nav","Link","as","to","guestNav","desktopNavbar","Navbar","Collapse","id","mobileNavbar","Dropdown","Toggle","variant","Menu","windowWidth","window","innerWidth","neededNavbar","useEffect","addEventListener","expand","Container","Brand","baseUrl","getAll","fetch","concat","getOne","phoneId","signal","PhoneCard","phone","imgUrl","brand","model","price","PhoneList","phones","map","NoPhonesMessage","props","Loadig","AllPhones","setPhones","loading","setLoading","phoneServices","then","res","json","data","allPhones","Object","entries","forEach","x","push","catch","Myphones","phonesWithId","myPhones","values","filter","ownerId","Button","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","isOwner","userId","Login","navigate","useNavigate","setEmail","password","setPassword","onBlurValidationHandler","e","preventDefault","target","currentTarget","styleCorrect","styleNotCorrect","test","style","Form","onSubmit","fromEntries","FormData","signInWithEmailAndPassword","authService","error","Group","controlId","Label","Control","onBlur","placeholder","required","Text","Register","setName","setPhoneNumber","rePassword","register","createUserWithEmailAndPassword","createNewUser","newUser","token","method","headers","body","Logout","signOut","Footer","PhoneForm","submit","color","grade","accessories","notes","formData","setFormData","onChangeValidationHandler","newFormData","minLength","onChange","pattern","Select","disabled","min","max","Create","create","phoneData","ConfirmDialog","onSave","Modal","onHide","closeButton","Title","Body","onClick","Details","useParams","setPhone","ownerData","setOwnerData","showDeleteDialog","setShowDeleteDialog","authServices","Error","ownerButtons","notOwnerView","deletePhone","finally","demoPhones","usePhoneState","controller","useMemo","AbortController","phoneResult","searchPhone","abort","SpinnerOverlay","Spinner","animation","role","Edit","keys","update","updatedPhone","GuardRoute","Outlet","Navigate","PageNotFound","App","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","HashRouter","document","getElementById"],"mappings":"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","file":"static/js/main.7f7b7fda.chunk.js","sourcesContent":["import { useState } from \"react\";\r\n\r\nconst useLocalStorage = (key, initialValue) => {\r\n    const [state, setState] = useState(() => {\r\n        try {\r\n            let item = localStorage.getItem(key);\r\n\r\n            return item \r\n                ? JSON.parse(item) \r\n                : initialValue;\r\n        } catch(err) {\r\n            console.log(err);\r\n            return initialValue;\r\n        }\r\n    });\r\n\r\n    const setItem = (value) => {\r\n        try {\r\n            localStorage.setItem(key, JSON.stringify(value))\r\n\r\n            setState(value);\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return [\r\n        state,\r\n        setItem\r\n    ];\r\n};\r\n\r\nexport default useLocalStorage;","import { createContext, useContext } from 'react';\r\n\r\nimport useLocalStorage from '../hooks/useLocaleStorage';\r\n\r\nconst initialAuthState = {\r\n    _id: '',\r\n    name: '',\r\n    phoneNumber: '',\r\n    email: '',\r\n    accessToken: '',\r\n};\r\n\r\nexport const AuthContext = createContext(initialAuthState);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, setUser] = useLocalStorage('user', initialAuthState);\r\n\r\n    const login = (authData) => {\r\n        const {uid, name, phoneNumber, email, accessToken} = authData.user;\r\n        setUser({_id: uid, name, phoneNumber, email, accessToken});\r\n\r\n        console.log(authData);\r\n    }\r\n\r\n    const logout = () => {\r\n        setUser(initialAuthState);\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, login, logout, isAuthenticated: user.email }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAuthContext = () => {\r\n    const authState = useContext(AuthContext);\r\n\r\n    return authState;\r\n}","import { createContext, useContext, useState, useCallback } from \"react\";\r\n\r\nexport const NotificationContext = createContext();\r\n\r\nexport const types = {\r\n    error: 'danger',\r\n    warn: 'warning',\r\n    info: 'info',\r\n    success: 'success',\r\n};\r\n\r\nconst initialNotificationState = { show: false, message: '', type: types.error };\r\n\r\nexport const NotificationProvider = ({\r\n    children\r\n}) => {\r\n    const [notification, setNotification] = useState(initialNotificationState);\r\n\r\n    const showNotification = useCallback((message, type = types.error) => {\r\n        setNotification({ show: true, message, type });\r\n        setTimeout(() => {\r\n            setNotification(initialNotificationState);\r\n        }, 5000);\r\n    }, []);\r\n\r\n    const hideNotification = useCallback(() => setNotification(initialNotificationState), [])\r\n\r\n    return (\r\n        <NotificationContext.Provider value={{ notification, showNotification, hideNotification }}>\r\n            {children}\r\n        </NotificationContext.Provider>\r\n    )\r\n};\r\n\r\nexport const useNotificationContext = () => {\r\n    const state = useContext(NotificationContext);\r\n\r\n    return state;\r\n};","import { Toast } from 'react-bootstrap';\r\nimport { useNotificationContext } from '../../../contexts/notificationContext';\r\nimport './Notification.css';\r\n\r\nconst Notification = () => {\r\n    const { notification, hideNotification } = useNotificationContext();\r\n\r\n    if (!notification.show) {\r\n        return null;\r\n    }\r\n\r\n\r\n    return (\r\n        <Toast className=\"notification d-inline-block m-1\" bg={notification.type} onClose={hideNotification}>\r\n            <Toast.Header>\r\n                <img src=\"holder.js/20x20?text=%20\" className=\"rounded me-2\" alt=\"\" />\r\n                <strong className=\"me-auto\">{notification.message}</strong>\r\n            </Toast.Header>\r\n        </Toast>\r\n    );\r\n};\r\n\r\nexport default Notification;","import { Link } from 'react-router-dom';\r\nimport { Navbar, Nav, Container, Dropdown } from 'react-bootstrap';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport './Header.css'\r\n\r\nimport { useAuthContext } from '../../contexts/authContext';\r\n\r\nconst Header = () => {\r\n\r\n    let { user } = useAuthContext();\r\n\r\n    let [navbar, setNavbar] = useState('');\r\n\r\n    const userNav = (\r\n        <>\r\n            <Nav.Link as={Link} to=\"/my-phones\">My phones</Nav.Link>\r\n            <Nav.Link as={Link} to=\"/create\">Create ad</Nav.Link>\r\n            <Nav.Link as={Link} to=\"/logout\">Logout</Nav.Link>\r\n        </>\r\n    );\r\n\r\n    const guestNav = (\r\n        <>\r\n            <Nav.Link as={Link} to=\"/login\">Login</Nav.Link>\r\n            <Nav.Link as={Link} to=\"register\">Register</Nav.Link>\r\n        </>\r\n    );\r\n\r\n    const desktopNavbar = (\r\n\r\n\r\n        <Navbar.Collapse id=\"basic-navbar-nav\" >\r\n\r\n            <Nav className=\"header-buttons\">\r\n                <Nav.Link as={Link} to=\"/all-phones\">All phones</Nav.Link>\r\n                {\r\n                    user.email\r\n                        ? userNav\r\n                        : guestNav\r\n                }\r\n\r\n                {/* <div className='search-bar'>\r\n                            \r\n                            <button id='search-button'><img src='../../../magnifying-glass-solid.svg'/>Search</button>\r\n                            <input id='search-text' />\r\n                        </div> */}\r\n            </Nav>\r\n\r\n            {\r\n                user.email\r\n                    ? <p className=\"hello-message\">Hello, {user.name === undefined ? user.email : user.name}</p>\r\n                    : null\r\n            }\r\n        </Navbar.Collapse>\r\n\r\n    );\r\n\r\n    const mobileNavbar = (\r\n        <>\r\n\r\n            <Dropdown>\r\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                    Menu\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu>\r\n                    <Nav className=\"header-buttons\">\r\n                        <Nav.Link as={Link} to=\"/all-phones\">All phones</Nav.Link>\r\n                        {\r\n                            user.email\r\n                                ? userNav\r\n                                : guestNav\r\n                        }\r\n                    </Nav>\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </>\r\n    );\r\n\r\n    const maxWidth = 602;\r\n    let windowWidth = window.innerWidth;\r\n\r\n    let neededNavbar = windowWidth > maxWidth ? desktopNavbar : mobileNavbar;\r\n\r\n\r\n    useEffect(() => {\r\n        return window.addEventListener('resize', () => {\r\n            windowWidth = window.innerWidth;\r\n            return setNavbar(windowWidth > maxWidth ? desktopNavbar : mobileNavbar);\r\n        });\r\n    }, [])\r\n\r\n\r\n\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"lg\">\r\n            <Container>\r\n                <Navbar.Brand as={Link} to=\"/all-phones\" className=\"logo\">Sell your phone</Navbar.Brand>\r\n\r\n\r\n                {navbar ? navbar : neededNavbar}\r\n\r\n            </Container>\r\n        </Navbar>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Header;","\r\nconst baseUrl = 'https://sell-your-phone-6fc13-default-rtdb.europe-west1.firebasedatabase.app';\r\n\r\nexport const getAll = () => fetch(`${baseUrl}/phone-collection.json`);\r\n\r\nexport const create = (phoneData, token) => {\r\n    return fetch(`${baseUrl}/phone-collection.json`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            'X-Authorization': token\r\n        },\r\n        body: JSON.stringify({ ...phoneData })\r\n    })\r\n};\r\n\r\nexport const getOne = (phoneId, signal) => fetch(`${baseUrl}/phone-collection/${phoneId}.json`, { signal });\r\n\r\n\r\nexport const update = (phoneId, phoneData, token) => {\r\n    return fetch(`${baseUrl}/phone-collection/${phoneId}.json`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            'X-Authorization': token\r\n        },\r\n        body: JSON.stringify({ ...phoneData })\r\n    })\r\n};\r\n\r\n// export const getMyPhones = (userId) => {\r\n//     // let query = encodeURIComponent(`ownerId=\"${userId}\"`);\r\n\r\n//     return fetch(`${baseUrl}/phone-collection.json?ownerId=${userId}`);\r\n//     // ${baseUrl}/users.json?userId=${ownerId}\r\n// }\r\n\r\nexport const deletePhone = (phoneId, accessToken) => {\r\n    return fetch(`${baseUrl}/phone-collection/${phoneId}.json`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'X-Authorization': accessToken\r\n        }\r\n    }).then(res => res.json());\r\n}","import { Link } from 'react-router-dom';\r\nimport './PhoneCard.css';\r\n\r\nconst PhoneCard = ({ phone }) => {\r\n    return (\r\n\r\n        <div className='phone-card' >\r\n            <Link to={`/details/${phone._id}`} className=\"card-content\">\r\n\r\n                <img src={phone.imgUrl} alt={phone.brand}/>\r\n                <p>{phone.brand} {phone.model} <br></br>\r\n                    Price: {phone.price} lv</p>\r\n\r\n            </Link>\r\n        </div>\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default PhoneCard;","import PhoneCard from '../PhoneCard/PhoneCard';\r\nimport './PhoneList.css';\r\n\r\nconst PhoneList = ({ phones }) => {\r\n    \r\n    return (\r\n        <div className='phone-list'>\r\n            {phones.map((phone) => (\r\n                <PhoneCard phone={phone} key={phone._id} />\r\n            ))}\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport default PhoneList;","import './NoPhones.css';\r\n\r\nconst NoPhonesMessage = (props) => {\r\n    return (\r\n        <div className=\"no-phones\">\r\n            <div className=\"page-title\">No phones on list</div>\r\n            <div className=\"no-phones-buttons\">\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoPhonesMessage","import './Loading.css'\r\n\r\nconst Loadig = () => {\r\n    return (\r\n        <span className='page-title loading'>Loading...</span>\r\n    )\r\n}\r\n\r\nexport default Loadig","import { useState, useEffect } from 'react';\r\n\r\nimport * as phoneServices from '../../services/phoneService';\r\nimport PhoneList from '../Common/PhoneList/PhoneList';\r\nimport NoPhonesMessage from '../Common/NoPhonesMessage/NoPhonesMessage';\r\nimport Loadig from '../Common/Loading/Loading';\r\n\r\n\r\nconst AllPhones = () => {\r\n\r\n    const [phones, setPhones] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 1000);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        phoneServices.getAll()\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                \r\n                let allPhones = [];\r\n\r\n                Object.entries(data).forEach(x => allPhones.push({_id: x[0], ...x[1]}));\r\n                \r\n                setPhones(allPhones);\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n    }, []);\r\n\r\n\r\n\r\n    if (phones.length === 0) {\r\n        return (\r\n            loading\r\n                ? <Loadig />\r\n                : <NoPhonesMessage />\r\n        );\r\n    } else {\r\n\r\n        return (\r\n            <PhoneList phones={phones} />\r\n        );\r\n    }\r\n\r\n};\r\n\r\nexport default AllPhones;","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nimport * as phoneServices from '../../services/phoneService';\r\nimport { useAuthContext } from '../../contexts/authContext';\r\nimport PhoneList from '../Common/PhoneList/PhoneList';\r\nimport NoPhonesMessage from '../Common/NoPhonesMessage/NoPhonesMessage';\r\nimport Loadig from '../Common/Loading/Loading';\r\n\r\nimport '../MyPhones/MyPhones.css'\r\n\r\nconst Myphones = () => {\r\n\r\n    const { user } = useAuthContext();\r\n\r\n    const [phones, setPhones] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 1000);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        \r\n        phoneServices.getAll()\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            \r\n            let phonesWithId = [];\r\n\r\n            Object.entries(data).forEach(x => phonesWithId.push({_id: x[0], ...x[1]}));\r\n\r\n            let myPhones = Object.values(phonesWithId).filter(x => x.ownerId === user._id);\r\n            \r\n            setPhones(myPhones);\r\n        \r\n            })\r\n            .catch(err => console.log(err));\r\n    \r\n    }, [user._id]);\r\n\r\n    if (phones.length <= 0) {\r\n        return (\r\n            loading\r\n                ? <Loadig />\r\n                : <NoPhonesMessage>\r\n                    <Button as={Link} to=\"/create\" className=\"create-btn\" variant=\"primary\">Create an ad</Button>\r\n                </NoPhonesMessage>\r\n        );\r\n    } else {\r\n        return (\r\n            <PhoneList phones={phones} />\r\n        );\r\n    }\r\n};\r\n\r\nexport default Myphones;","import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA6_at99U0o93Z78KoBJlzvoO8vTsxnj6U\",\r\n  authDomain: \"sell-your-phone-6fc13.firebaseapp.com\",\r\n  databaseURL: \"https://sell-your-phone-6fc13-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"sell-your-phone-6fc13\",\r\n  storageBucket: \"sell-your-phone-6fc13.appspot.com\",\r\n  messagingSenderId: \"674521515778\",\r\n  appId: \"1:674521515778:web:c4dd5f680cb214168ae41b\",\r\n  measurementId: \"G-0E84L4LPMH\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\n\r\nexport { auth }","import { auth } from '../firebase'\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth'\r\n\r\nconst baseUrl = 'https://sell-your-phone-6fc13-default-rtdb.europe-west1.firebasedatabase.app';\r\n\r\nexport const login = (email, password) => {\r\n    // return fetch(`${baseUrl}/accounts:signInWithPassword?key=${API_KEY}`, {\r\n    //     method: 'POST',\r\n    //     'content-type': 'application/json',\r\n    //     body: { email, password }\r\n    // })\r\n    //     .then(res => {\r\n    //         console.log(res);\r\n\r\n    //         res.json()\r\n    //     })\r\n    //     .catch(err => console.log(err));\r\n\r\n    return signInWithEmailAndPassword(auth, email, password)\r\n        .then((res) => res)\r\n        .catch(err => console.log(err))\r\n};\r\n\r\nexport const register = (email, password) => {\r\n    return createUserWithEmailAndPassword(auth, email, password)\r\n        .then((res) => res)\r\n        .catch(err => console.log(err.message))\r\n\r\n\r\n    // return fetch(`${baseUrl}/accounts:signUp?key=${API_KEY}`, {\r\n    //     method: 'POST',\r\n    //     'content-type': 'application/json',\r\n    //     body: JSON.stringify({ email, password, name, phoneNumber }),\r\n    // })\r\n    //     .then(res => {\r\n    //         console.log(res);\r\n    //         res.json()\r\n    //     })\r\n    //     .catch(err => console.log(err));\r\n};\r\n\r\nexport const createNewUser = (newUser, token) => {\r\n    return fetch(`${baseUrl}/users.json`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            'X-Authorization': token\r\n        },\r\n        body: JSON.stringify({ ...newUser })\r\n    })\r\n};\r\n\r\nexport const getOwnerData = (ownerId) => fetch(`${baseUrl}/users.json?userId=${ownerId}` )\r\n\r\nexport const logout = () => {\r\n    // return fetch(`${baseUrl}/users/logout`, {\r\n    //     headers: {\r\n    //         'X-Authorization': accessToken\r\n    //     }\r\n    // })\r\n    //     .catch(err => console.log(err));\r\n\r\n    signOut(auth)\r\n        .then(res => res)\r\n        .catch(err => err)\r\n};\r\n\r\nexport const isOwner = (ownerId, userId) => ownerId === userId;","import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nimport './Login.css';\r\n\r\nimport { useNotificationContext, types } from '../../contexts/notificationContext';\r\nimport { useAuthContext } from '../../contexts/authContext';\r\nimport * as authService from '../../services/authService';\r\n\r\nconst Login = () => {\r\n\r\n    const { login } = useAuthContext();\r\n    const { showNotification } = useNotificationContext();\r\n    const navigate = useNavigate();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n\r\n    const onLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { email, password } = Object.fromEntries(new FormData(e.currentTarget));\r\n\r\n        authService.login(email, password)\r\n            .then((authData) => {\r\n                \r\n                if (!authData.user) {\r\n                    return (\r\n                        showNotification('Wrong email or password!', types.error)\r\n                    )\r\n                }\r\n\r\n                login(authData);\r\n                showNotification(`Welcome ${email}.`, types.success);\r\n                navigate('/my-phones');\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const onBlurValidationHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        let target = e.currentTarget.name;\r\n        let value = e.currentTarget.value;\r\n\r\n        const styleCorrect = \"border-color: green\";\r\n        const styleNotCorrect = \"border-color: red\";\r\n\r\n        if (target === 'email') {\r\n\r\n            const emailRegex = /^[\\w\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g;\r\n\r\n            if (!emailRegex.test(value)) {\r\n                return e.currentTarget.style = styleNotCorrect;\r\n            } else {\r\n                e.currentTarget.style = styleCorrect;\r\n                return setEmail(value);\r\n            }\r\n        } else if (target === 'password') {\r\n            if (value.length < 6) {\r\n                return e.currentTarget.style = styleNotCorrect;\r\n            } else {\r\n                e.currentTarget.style = styleCorrect;\r\n                return setPassword(value);\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"page-title\">Login</h1>\r\n            <Form className=\"login-form\" onSubmit={onLogin}>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control type=\"email\" name=\"email\" onBlur={onBlurValidationHandler} placeholder=\"Enter email\" required />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" name=\"password\" onBlur={onBlurValidationHandler} placeholder=\"Password\" required />\r\n                    <Form.Text>\r\n                        You don't have any account? <Link to=\"/register\">Register from here</Link>\r\n                    </Form.Text>\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Login\r\n                </Button>\r\n            </Form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Login;","import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nimport './Register.css';\r\n\r\nimport * as authService from '../../services/authService';\r\nimport { useAuthContext } from '../../contexts/authContext';\r\nimport { useNotificationContext, types } from '../../contexts/notificationContext';\r\n\r\n\r\nconst Register = () => {\r\n\r\n    const { login } = useAuthContext();\r\n    const { showNotification } = useNotificationContext();\r\n    const navigate = useNavigate();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [phoneNumber, setPhoneNumber] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n\r\n    const onRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { email, rePassword } = Object.fromEntries(new FormData(e.currentTarget));\r\n\r\n        if (password !== rePassword) {\r\n            showNotification('Passwords missmatch', types.error);\r\n            return console.error('Passwords missmatch');\r\n        }\r\n\r\n        authService.register(email, password, name, phoneNumber)\r\n            .then(authData => {\r\n\r\n                let newUser = {\r\n                    email,\r\n                    name,\r\n                    phoneNumber,\r\n                    userId: authData.user.uid,\r\n                }\r\n\r\n                authService.createNewUser(newUser, authData.accessToken);\r\n\r\n\r\n                login(authData);\r\n                showNotification(`You have successfully registered`, types.success);\r\n                navigate('/all-phones');\r\n            })\r\n            .catch(err => console.error(err))\r\n\r\n\r\n\r\n    };\r\n\r\n    const onBlurValidationHandler = (e) => {\r\n        e.preventDefault();\r\n        let target = e.currentTarget.name;\r\n        let value = e.currentTarget.value;\r\n\r\n        const styleCorrect = \"border-color: green\"\r\n        const styleNotCorrect = \"border-color: red\"\r\n\r\n\r\n        if (target === 'email') {\r\n\r\n            const emailRegex = /^[\\w\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g;\r\n\r\n            if (!emailRegex.test(value)) {\r\n                return e.currentTarget.style = styleNotCorrect;\r\n            } else {\r\n                e.currentTarget.style = styleCorrect;\r\n                return setEmail(value);\r\n            }\r\n\r\n        } else if (target === 'name') {\r\n            if (value.length < 3) {\r\n                return e.currentTarget.style = styleNotCorrect;\r\n            } else {\r\n                e.currentTarget.style = styleCorrect;\r\n                return setName(value);\r\n            }\r\n\r\n        } else if (target === 'phoneNumber') {\r\n            if (value.length !== 10) {\r\n                return e.currentTarget.style = styleNotCorrect;\r\n            } else {\r\n                e.currentTarget.style = styleCorrect;\r\n                return setPhoneNumber(value);\r\n            }\r\n        } else if (target === 'password') {\r\n            if (value.length < 6) {\r\n                return e.currentTarget.style = styleNotCorrect;\r\n            } else {\r\n                e.currentTarget.style = styleCorrect;\r\n                return setPassword(value);\r\n            }\r\n        } else if (target === 'rePassword') {\r\n            if (value !== password || value.length < 6) {\r\n                return e.currentTarget.style = styleNotCorrect;\r\n            } else {\r\n                return e.currentTarget.style = styleCorrect;\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"page-title\">Register</h1>\r\n            <Form className=\"register-form\" onSubmit={onRegister}>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control type=\"email\" name=\"email\" onBlur={onBlurValidationHandler} placeholder=\"Enter email\" required />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\r\n                    <Form.Label>Name</Form.Label>\r\n                    <Form.Control type=\"text\" name=\"name\" onBlur={onBlurValidationHandler} placeholder=\"Enter your name\" required />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPhoneNumber\">\r\n                    <Form.Label>Phone number</Form.Label>\r\n                    <Form.Control type=\"number\" name=\"phoneNumber\" onBlur={onBlurValidationHandler} placeholder=\"Enter phone number\" required />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" name=\"password\" onBlur={onBlurValidationHandler} placeholder=\"Password\" required />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicRePassword\">\r\n                    <Form.Label>Repeat password</Form.Label>\r\n                    <Form.Control type=\"password\" name=\"rePassword\" onBlur={onBlurValidationHandler} placeholder=\"Repeat password\" required />\r\n                    <Form.Text>\r\n                        You already have an account? <Link to=\"/login\">Login from here</Link>\r\n                    </Form.Text>\r\n                </Form.Group>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Register\r\n                </Button>\r\n            </Form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Register;","import { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router'\r\n\r\nimport { useAuthContext } from '../../contexts/authContext';\r\nimport * as authServices from '../../services/authService';\r\n\r\nconst Logout = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const { logout } = useAuthContext();\r\n\r\n    useEffect(() => {\r\n        authServices.logout();\r\n\r\n        logout();\r\n\r\n        navigate('/all-phones');\r\n    })\r\n\r\n    return null\r\n};\r\n\r\nexport default Logout;","import './Footer.css'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p>&copy; 2021</p>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;","import { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nimport './PhoneForm.css'\r\n\r\nconst PhoneForm = ({\r\n    submit,\r\n    phone = {\r\n        brand: '',\r\n        model: '',\r\n        color: '',\r\n        imgUrl: '',\r\n        grade: '',\r\n        accessories: '',\r\n        notes: '',\r\n        price: '',\r\n    }\r\n}) => {\r\n    const [formData, setFormData] = useState(() => {\r\n        return { ...phone, grade: phone['grade'] ? phone['grade'] : 'default' }\r\n    });\r\n\r\n    function submitHandler(e) {\r\n        e.preventDefault();\r\n        submit(formData);\r\n    }\r\n\r\n    const onChangeValidationHandler = (e) => {\r\n        let target = e.currentTarget.name;\r\n        let value = e.currentTarget.value;\r\n\r\n        const newFormData = { ...formData };\r\n\r\n        newFormData[target] = value;\r\n        return setFormData(newFormData);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Form className=\"ad-form\" method=\"POST\" onSubmit={submitHandler}>\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Brand</Form.Label>\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    name=\"brand\"\r\n                    minLength=\"3\"\r\n                    placeholder=\"Samsung, Apple, Sony, Nokia...\"\r\n                    value={formData['brand']}\r\n                    onChange={onChangeValidationHandler}\r\n                    required\r\n                />\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Model</Form.Label>\r\n                <Form.Control type=\"text\" name=\"model\" minLength=\"3\" placeholder=\"Galaxy Fold 3, iPhone 13, Xperia Z4...\"\r\n                    value={formData['model']} required onChange={onChangeValidationHandler} />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Color</Form.Label>\r\n                <Form.Control type=\"text\" name=\"color\" minLength=\"3\" placeholder=\"Black, White, Green....\" value={formData['color']}\r\n                    required onChange={onChangeValidationHandler} />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Image</Form.Label>\r\n                <Form.Control type=\"text\" name=\"imgUrl\" pattern=\"^https?:\\/\\/[\\w?\\W?]+$\" placeholder=\"Image URL...\" value={formData['imgUrl']} required\r\n                    onChange={onChangeValidationHandler} />\r\n            </Form.Group>\r\n\r\n            <Form.Label>Grade of conditions</Form.Label>\r\n            <Form.Select aria-label=\"Default select example\" value={formData['grade']} onChange={onChangeValidationHandler}\r\n                name=\"grade\" required>\r\n                <option disabled={true} value=\"default\">Slect a value</option>\r\n                <option value=\"1: Lots of scratches but still working\">1: Lots of scratches but still working</option>\r\n                <option value=\"2: Some scratches\">2: Some scratches</option>\r\n                <option value=\"3: Normal, with a few scratches\">3: Normal, with a few scratches</option>\r\n                <option value=\"4: Almost like new\">4: Almost like new</option>\r\n                <option value=\"5: New\">5: New</option>\r\n            </Form.Select>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Accessories</Form.Label>\r\n                <Form.Control type=\"text\" name=\"accessories\" placeholder=\"Box, Charger, Cabel...\"\r\n                    value={formData['accessories']} onChange={onChangeValidationHandler} />\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Notes</Form.Label>\r\n                <Form.Control type=\"text\" name=\"notes\" placeholder=\"Notes...\" value={formData['notes']}\r\n                    onChange={onChangeValidationHandler} />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Price</Form.Label>\r\n                <Form.Control type=\"number\" name=\"price\" min=\"0\" max=\"10000\" placeholder=\"500lv...\" value={formData['price']} required\r\n                    onChange={onChangeValidationHandler} />\r\n            </Form.Group>\r\n            <Button variant=\"primary\" type=\"submit\">\r\n                Save\r\n            </Button>\r\n        </Form>\r\n    );\r\n};\r\n\r\nexport default PhoneForm;","import { useNavigate } from 'react-router';\r\n\r\nimport './Create.css';\r\n\r\nimport * as phoneServices from '../../services/phoneService';\r\nimport { useAuthContext } from '../../contexts/authContext';\r\nimport { useNotificationContext, types } from '../../contexts/notificationContext';\r\nimport PhoneForm from '../Common/PhoneForm/PhoneForm';\r\n\r\nconst Create = () => {\r\n    const { user } = useAuthContext();\r\n    const { showNotification } = useNotificationContext();\r\n    const navigate = useNavigate();\r\n\r\n    const createNewAd = (formData) => {\r\n        const ownerId = user._id;\r\n\r\n        const phoneData = { ...formData, ownerId };\r\n\r\n        phoneServices.create(phoneData, user.accessToken)\r\n            .then((res) => res.json())\r\n            .then(data => {\r\n                navigate(`/details/${data.name}`);\r\n                showNotification('You successfully create an ad for your phone', types.success);\r\n            })\r\n            .catch(err => console.error(err))\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"page-title\">Create an ad for your phone</h1>\r\n            <PhoneForm submit={createNewAd} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Create;","import { Modal, Button } from 'react-bootstrap';\r\n\r\nconst ConfirmDialog = ({\r\n    show,\r\n    onClose,\r\n    onSave,\r\n}) => {\r\n    return (\r\n        <Modal show={show} onHide={onClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Delete this phone?</Modal.Title>\r\n            </Modal.Header>\r\n\r\n            <Modal.Body>\r\n                <p>Are you sure you want to delete the ad for this phone?</p>\r\n            </Modal.Body>\r\n\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={onClose}>Close</Button>\r\n                <Button variant=\"primary\" onClick={onSave}>Delete</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ConfirmDialog;","import { useState, useEffect } from 'react';\r\nimport { Link, useParams, useNavigate } from 'react-router-dom';\r\n\r\nimport { Button } from 'react-bootstrap';\r\n\r\nimport './Details.css';\r\n\r\nimport ConfirmDialog from '../Common/ConfirmDialog/ConfirmDialog'\r\nimport * as phoneServices from '../../services/phoneService';\r\nimport * as authServices from '../../services/authService'\r\nimport { useAuthContext } from '../../contexts/authContext';\r\nimport { useNotificationContext, types } from '../../contexts/notificationContext';\r\n\r\n\r\nconst Details = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const { user } = useAuthContext();\r\n    const { phoneId } = useParams();\r\n    const { showNotification } = useNotificationContext();\r\n    const [phone, setPhone] = useState({});\r\n    const [ownerData, setOwnerData] = useState({});\r\n\r\n    const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n    \r\n    const ownerId = phone.ownerId;\r\n\r\n    const isOwner = authServices.isOwner(ownerId, user._id);\r\n\r\n    useEffect(() => {\r\n        authServices.getOwnerData(ownerId)\r\n            .then(res =>res.json())\r\n            .then(data => setOwnerData(Object.values(data)[0]))\r\n            .catch(err => console.log(err))\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        phoneServices.getOne(phoneId)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n\r\n                if (!data.message) {\r\n                    setPhone(data)\r\n                } else {\r\n                    throw new Error('This phone may not exist anymore.')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n                showNotification('This phone may not exist anymore.', types.warn)\r\n                navigate('/all-phones');\r\n\r\n            })\r\n    }, [phoneId, showNotification, navigate]);\r\n\r\n\r\n\r\n    const deleteHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        phoneServices.deletePhone(phoneId, user.accessToken)\r\n            .then(() => {\r\n                navigate('/my-phones');\r\n                showNotification('You successfully delete this phone.', types.success);\r\n            })\r\n            .catch(err => console.error(err))\r\n            .finally(() => {\r\n                setShowDeleteDialog(false)\r\n            });\r\n    };\r\n\r\n    const deleteClickHandler = (e) => {\r\n        e.preventDefault();\r\n        setShowDeleteDialog(true);\r\n    };\r\n\r\n\r\n\r\n    const ownerButtons = <>\r\n        <Button as={Link} to={`/edit/${phoneId}`} variant=\"primary\" className='edit-btn'>Edit</Button>\r\n        <Button onClick={deleteClickHandler} variant=\"danger\" className='delete-btn'>Delete</Button>\r\n    </>\r\n\r\n    const notOwnerView = <>\r\n        <h4>You like this phone?</h4>\r\n        <h5>Owner Contacts:</h5>\r\n        <h5>Name: {ownerData.name}</h5>\r\n        <h5>Phone: {ownerData.phoneNumber}, email: {ownerData.email}</h5>\r\n    </>\r\n\r\n    return (\r\n        <>\r\n            <ConfirmDialog show={showDeleteDialog} onClose={() => setShowDeleteDialog(false)} onSave={deleteHandler} />\r\n\r\n            <div className=\"page-content\">\r\n                <img src={phone.imgUrl} className=\"image\" alt=\"img\" />\r\n                <div className=\"phone-details\">\r\n                    <div className=\"phone-model\">{phone.brand} {phone.model}</div>\r\n\r\n                    <h3>Price: {phone.price} leva</h3>\r\n\r\n                    <h4>Color: <h5>{phone.color}</h5></h4>\r\n\r\n                    <h4>Grade of conditions: <h5>{phone.grade}</h5></h4>\r\n\r\n                    <h4>Accessories:</h4>\r\n\r\n                    {\r\n                        phone.accessories\r\n                            ? <h5>{phone.accessories}</h5>\r\n                            : <h5>No accessories for this phone</h5>\r\n\r\n                    }\r\n\r\n                    {\r\n                        phone.notes\r\n                            ? <> <h4>Notes:</h4>\r\n                                <h5>{phone.notes}</h5></>\r\n                            : null\r\n                    }\r\n                    <div className='owner-buttons'>\r\n                        {\r\n                            isOwner\r\n                                ? ownerButtons\r\n                                : notOwnerView\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Details","let demoPhones = [\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Samsung \",\r\n        \"model\": \"Galaxy Z fold 4\",\r\n        \"color\": \"Gray\",\r\n        \"imgUrl\": \"https://p1.akcdn.net/full/1013452881.samsung-galaxy-z-fold4-5g-256gb-12gb-ram-dual-f936.jpg\",\r\n        \"grade\": \"4: Almost like new\",\r\n        \"accessories\": \"Box, charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"1500\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708703378834,\r\n        \"_id\": \"36becccd-7963-4323-a8a9-1e2e4ea3733a\",\r\n        \"_updatedOn\": 1708705230248\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Apple\",\r\n        \"model\": \"iPhone 14 pro 256gb\",\r\n        \"color\": \"White\",\r\n        \"imgUrl\": \"https://www.apple.com/newsroom/images/product/iphone/standard/Apple-iPhone-14-Pro-iPhone-14-Pro-Max-silver-220907_inline.jpg.large.jpg\",\r\n        \"grade\": \"5: New\",\r\n        \"accessories\": \"Box, charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"1700\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708703524031,\r\n        \"_id\": \"aaba9a94-13b4-45bf-8fdd-3d670814bad0\",\r\n        \"_updatedOn\": 1708703535790\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Nokia\",\r\n        \"model\": \"8800\",\r\n        \"color\": \"Silver\",\r\n        \"imgUrl\": \"https://cdn.shopify.com/s/files/1/0014/9352/products/nokia-8800-sirocco-silver.jpg?v=1213973454\",\r\n        \"grade\": \"3: Normal, with a few scratches\",\r\n        \"accessories\": \"\",\r\n        \"notes\": \"perfectly working\",\r\n        \"price\": \"200\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707222784,\r\n        \"_id\": \"4a827be5-3229-41d5-812c-c79b7f49adc5\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Siemens\",\r\n        \"model\": \"M55\",\r\n        \"color\": \"Grey and Orange \",\r\n        \"imgUrl\": \"https://imei24.com/img/siemens/13_08_13_pic_245.jpg\",\r\n        \"grade\": \"1: Lots of scratches but still working\",\r\n        \"accessories\": \"\",\r\n        \"notes\": \"\",\r\n        \"price\": \"20\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707343432,\r\n        \"_id\": \"e483f76d-917e-4c38-bf04-04d877687bf0\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Nokia\",\r\n        \"model\": \"N91\",\r\n        \"color\": \"Silver\",\r\n        \"imgUrl\": \"https://i.ebayimg.com/images/g/1hcAAOSwJRxbR3LG/s-l1200.jpg\",\r\n        \"grade\": \"3: Normal, with a few scratches\",\r\n        \"accessories\": \"Box, charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"300\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707420147,\r\n        \"_id\": \"b33aef42-04c7-446a-a807-3bfab85426b5\",\r\n        \"_updatedOn\": 1708707505075\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Nokia\",\r\n        \"model\": \"3310\",\r\n        \"color\": \"Blue\",\r\n        \"imgUrl\": \"https://assets.gds.it/2017/02/NOKIA-3310-800x800.jpg\",\r\n        \"grade\": \"2: Some scratches\",\r\n        \"accessories\": \"charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"40\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707563770,\r\n        \"_id\": \"a6e625b5-a1e0-428d-841d-067cbfb70f70\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Samsung\",\r\n        \"model\": \"D820\",\r\n        \"color\": \"Black\",\r\n        \"imgUrl\": \"https://www.mobile-review.com/phonemodels/samsung/image/d820-1.jpg\",\r\n        \"grade\": \"4: Almost like new\",\r\n        \"accessories\": \"Box, charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"50\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707661967,\r\n        \"_id\": \"55cf3f5c-8f81-4a15-b238-1fd89c7cf869\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Samsung \",\r\n        \"model\": \"Galaxy S21 ultra 256gb\",\r\n        \"color\": \"Black\",\r\n        \"imgUrl\": \"https://cdn.dxomark.com/wp-content/uploads/medias/post-71028/galaxys21_ultra.jpg\",\r\n        \"grade\": \"3: Normal, with a few scratches\",\r\n        \"accessories\": \"Box, charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"870\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707748923,\r\n        \"_id\": \"89904052-c775-4da4-8d55-8416b9c4c981\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Ericsson\",\r\n        \"model\": \"T28\",\r\n        \"color\": \"Black\",\r\n        \"imgUrl\": \"https://ih1.redbubble.net/image.3564954366.6224/flat,750x,075,f-pad,750x1000,f8f8f8.jpg\",\r\n        \"grade\": \"2: Some scratches\",\r\n        \"accessories\": \"\",\r\n        \"notes\": \"\",\r\n        \"price\": \"25\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707820069,\r\n        \"_id\": \"29747117-bbc4-4b6a-9652-54ab2acd5a92\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Sony Ericsson\",\r\n        \"model\": \"Xperia Pureness\",\r\n        \"color\": \"Black\",\r\n        \"imgUrl\": \"https://www.kickmobiles.com/images/thumbs/0031637_sony-ericsson-xperia-pureness-x5_808.jpeg\",\r\n        \"grade\": \"4: Almost like new\",\r\n        \"accessories\": \"Box, charger, cable, headphones \",\r\n        \"notes\": \"The coolest phone ever\",\r\n        \"price\": \"1000\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708707920314,\r\n        \"_id\": \"32843e3a-8092-4662-9bb1-f8309b437b92\",\r\n        \"_updatedOn\": 1708707974072\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Samsung\",\r\n        \"model\": \"Galaxy S24 256gb\",\r\n        \"color\": \"Purple\",\r\n        \"imgUrl\": \"https://cdn.ozone.bg/media/catalog/product/cache/1/image/400x498/a4e40ebdc3e371adff845072e1c73f37/s/m/44e2af6a253d45d3efd585482fb37830/smartfon-samsung---galaxy-s24-5g--62----8gb-128gb--cobalt-violet-31.jpg\",\r\n        \"grade\": \"5: New\",\r\n        \"accessories\": \"Box, cable\",\r\n        \"notes\": \"\",\r\n        \"price\": \"1500\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708708063397,\r\n        \"_id\": \"9430ec7a-e196-42e6-ae6b-687b0acd85b8\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"OnePlus\",\r\n        \"model\": \"11 pro\",\r\n        \"color\": \"Green\",\r\n        \"imgUrl\": \"https://cdn.dxomark.com/wp-content/uploads/medias/post-138310/OnePlus-11_featured-image-packshot-review-Recovered.jpg\",\r\n        \"grade\": \"4: Almost like new\",\r\n        \"accessories\": \"Box, cable, charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"2000\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708708174803,\r\n        \"_id\": \"746c7733-3e10-497f-a60d-cd34096a64e8\"\r\n    },\r\n    {\r\n        \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n        \"brand\": \"Samsung\",\r\n        \"model\": \"Galaxy Alpha\",\r\n        \"color\": \"White\",\r\n        \"imgUrl\": \"https://mobilebulgaria.com/img/cms/24/635024_half.jpg\",\r\n        \"grade\": \"2: Some scratches\",\r\n        \"accessories\": \"Box, cable, charger\",\r\n        \"notes\": \"\",\r\n        \"price\": \"100\",\r\n        \"ownerEmail\": \"peter@abv.bg\",\r\n        \"_createdOn\": 1708708251209,\r\n        \"_id\": \"569044d1-fa11-4828-8d0d-50818494015e\"\r\n    },\r\n{\r\n    \"_ownerId\": \"35c62d76-8152-4626-8712-eeb96381bea8\",\r\n    \"brand\": \"Blackberry\",\r\n    \"model\": \"9800\",\r\n    \"color\": \"Black\",\r\n    \"imgUrl\": \"https://m.media-amazon.com/images/I/81WsLyAh4YL._AC_UF1000,1000_QL80_.jpg\",\r\n    \"grade\": \"3: Normal, with a few scratches\",\r\n    \"accessories\": \"Box, cable, charger\",\r\n    \"notes\": \"\",\r\n    \"price\": \"50\",\r\n    \"ownerEmail\": \"peter@abv.bg\",\r\n    \"_createdOn\": 1708708346667,\r\n    \"_id\": \"e49dd0b1-803c-4f11-ad6c-f4ec0db5fff3\"\r\n}\r\n];\r\n\r\n\r\nexport default demoPhones;","import { useState, useEffect, useMemo } from 'react';\r\n\r\nimport * as phoneServices from '../services/phoneService'\r\n\r\nimport demoPhones from '../components/Common/demoPhones';\r\n\r\nconst usePhoneState = (phoneId) => {\r\n    \r\n    const [phone, setPhone] = useState({});\r\n\r\n    const controller = useMemo(() => {\r\n        const controller = new AbortController();\r\n\r\n        return controller;\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        phoneServices.getOne(phoneId, controller.signal)\r\n            .then(res => res.json())\r\n            .then(phoneResult => {\r\n                if (phoneResult.message) {\r\n                    let searchPhone = demoPhones.filter(x => x._id === phoneId)\r\n                    if (searchPhone) {\r\n                        setPhone(searchPhone[0]);\r\n                    } else {\r\n                        throw new Error('This phone may not exist anymore.')\r\n                    }\r\n                } else {\r\n\r\n                    setPhone(phoneResult);\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        return () => {\r\n            controller.abort();\r\n        }\r\n    }, [phoneId, controller]);\r\n\r\n    return [\r\n        phone,\r\n        setPhone\r\n    ]\r\n};\r\n\r\nexport default usePhoneState;","import { Spinner } from 'react-bootstrap';\r\nimport './spinner.css';\r\n\r\nconst SpinnerOverlay = () => {\r\n    return (<div className='spinner-overlay'>\r\n        <Spinner animation=\"border\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n        </Spinner>\r\n    </div>)\r\n}\r\n\r\nexport default SpinnerOverlay;","import { useNavigate, useParams } from 'react-router';\r\n\r\nimport '../Create/Create.css'\r\n\r\nimport * as phoneServices from '../../services/phoneService';\r\nimport * as authServices from '../../services/authService'\r\nimport { useAuthContext } from '../../contexts/authContext';\r\nimport { useNotificationContext, types } from '../../contexts/notificationContext';\r\nimport usePhoneState from '../../hooks/usePhoneState';\r\nimport PhoneForm from '../Common/PhoneForm/PhoneForm';\r\nimport SpinnerOverlay from '../Common/SpinnerOverlay/SpinnerOverlay';\r\n\r\nimport demoPhones from '../Common/demoPhones';\r\n\r\n\r\nconst Edit = () => {\r\n\r\n    const { phoneId } = useParams()\r\n    const [phone, setPhone] = usePhoneState(phoneId);\r\n    const { user } = useAuthContext();\r\n    const navigate = useNavigate();\r\n    const { showNotification } = useNotificationContext();\r\n    const isOwner = authServices.isOwner(phone.ownerId, user._id);\r\n\r\n    const updatePhone = (phoneData) => {\r\n        phoneServices.update(phoneId, phoneData, user.accessToken)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n\r\n                if (data.message) {\r\n                    let searchPhone = demoPhones.filter(x => x._id === phoneId);\r\n                    if (searchPhone) {\r\n                        demoPhones[phoneId] = phoneData;\r\n                        let updatedPhone = demoPhones[phoneId]\r\n                        setPhone(updatedPhone);\r\n                    } else {\r\n                        throw new Error('This phone may not exist anymore.');\r\n                    }\r\n                    \r\n                } else {\r\n                    \r\n                    setPhone(data);\r\n                }\r\n                \r\n                navigate(`/details/${phoneId}`);\r\n            })\r\n            .catch(err => {\r\n\r\n                let searchPhone = demoPhones.filter(x => x._id === phoneId)\r\n                if (searchPhone) {\r\n                    setPhone(searchPhone[0]);\r\n                } else {\r\n                    console.log(err)\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        \r\n    if (Object.keys(phone).length === 0) {\r\n        return <SpinnerOverlay />\r\n    }\r\n\r\n    if (!isOwner) {\r\n        showNotification('You are not the owner of this ad.', types.warn);\r\n        navigate('/all-phones');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"page-title\">Edit the ad for your phone</h1>\r\n            <PhoneForm submit={updatePhone} phone={phone} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Edit;","import { Navigate, Outlet } from 'react-router-dom';\r\nimport { useAuthContext } from '../../../contexts/authContext';\r\nimport { useNotificationContext, types } from '../../../contexts/notificationContext';\r\n\r\nconst GuardRoute = () => {\r\n    const { isAuthenticated } = useAuthContext();\r\n\r\n    const { showNotification } = useNotificationContext();\r\n\r\n    if(isAuthenticated){\r\n        return <Outlet />\r\n    } else {\r\n        return <>\r\n            {showNotification('You should login first', types.info)}\r\n            <Navigate to=\"/login\"/>\r\n        </>\r\n    }\r\n}\r\n\r\nexport default GuardRoute;","\r\nconst PageNotFound = () =>{\r\n    return (\r\n        <h1 className=\"page-title\">404 Page not found</h1>\r\n    );\r\n};\r\n\r\nexport default PageNotFound;","import { Route, Routes } from 'react-router-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport { AuthProvider } from './contexts/authContext';\nimport { NotificationProvider } from './contexts/notificationContext';\nimport Notification from './components/Common/Notification/Notification'\nimport Header from \"./components/Header/Header\";\nimport AllPhones from './components/AllPhones/AllPhones';\nimport Myphones from './components/MyPhones/Myphones';\nimport Login from './components/Login/Login';\nimport Register from './components/Register/Register';\nimport Logout from './components/Logout/Logout';\nimport Footer from './components/Footer/Footer';\nimport Create from './components/Create/Create';\nimport Details from './components/Details/Details';\nimport Edit from './components/Edit/Edit';\nimport GuardRoute from './components/Common/GuardRoute/GuardRoute';\nimport PageNotFound from './components/Common/PageNotFound/PageNotFound';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <NotificationProvider>\n        <div className=\"App\">\n          <Header />\n          <main className=\"site-content\">\n            <Notification />\n            <Routes>\n              < Route path=\"/all-phones\" element={<AllPhones />} />\n              < Route path=\"/\" element={<AllPhones />} />\n              < Route path=\"/details/:phoneId\" element={<Details />} />\n              < Route path=\"/login\" element={<Login />} />\n              < Route path=\"/register\" element={<Register />} />\n              < Route path=\"/logout\" element={<Logout />} />\n              < Route path=\"*\" element={<PageNotFound />} />\n\n              <Route element={<GuardRoute />}>\n                < Route path=\"/create\" element={<Create />} />\n                < Route path=\"/my-phones\" element={<Myphones />} />\n                < Route path=\"/edit/:phoneId\" element={<Edit />} />\n              </Route>\n\n            </Routes>\n          </main>\n\n          <Footer />\n        </div>\n      </NotificationProvider>\n    </AuthProvider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n      </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}